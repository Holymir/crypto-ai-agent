// This is your Prisma schema file for SQLite (local development)
// Use this for local development with: npx prisma db push --schema=prisma/schema.sqlite.prisma

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Article {
  id           String    @id @default(uuid())
  title        String    @unique
  content      String
  source       String
  url          String?
  publishedAt  DateTime  @default(now())
  analyzedAt   DateTime  @default(now())
  createdAt    DateTime  @default(now())

  // AI analysis fields
  asset          String?   // e.g., "BTC", "ETH", "SOL", "MULTIPLE", "GENERAL"
  category       String?   // e.g., "DeFi", "NFT", "Regulation", "Price", "Technology"
  chain          String?   // e.g., "Bitcoin", "Ethereum", "Solana", "MULTIPLE", "GENERAL"
  sentimentScore Int?      @default(50) // Range: 0-100 (0=most bearish, 100=most bullish)
  keywords       String?   // Comma-separated crypto-related keywords (1-3 words)

  @@index([sentimentScore])
  @@index([publishedAt])
  @@index([source])
  @@index([asset])
  @@index([category])
  @@index([chain])
  @@map("articles")
}
